<html>
<head>
    <script type="text/javascript" src="/media/jquery.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
        $("#btn_create").click(function(){
			$.ajax({
				url: "/rooms",
				type: "POST",
				data: JSON.stringify({
					room_jid: $("#txt_jid").val(),
                    room_name: $("#txt_name").val()
				}),
				contentType: "application/json",
				dataType: "json"
			}).done(function(data){
                console.log(data);
				$("#div_done").html(data.message);
			});
        });
		$("#btn_delete").click(function(){
            var room_jid = $("#txt_jid2").val();
			$.ajax({
				url: "/rooms/" + room_jid,
				type: "DELETE"
			}).
			done(function(data){
                console.log(data);
				$("#div_done").html(data.message);
			});
		});
        $("#btn_disco").click(function(){
			$.ajax({
				url: "/rooms",
				type: "GET"
			}).
			done(function(data){
                console.log(data);
				$("#div_done").html(data.message);
			});
        });
    });
    </script>
</head>

<body>
    <div id="div_main">
        <div id="div_workspace">
            Create MUC room of Ejabberd<br>
            <br><br>
            JID of Room: &nbsp; <input id="txt_jid" type="text" /><br>
            Room Name: &nbsp; <input id="txt_name" type="text" /><br>
            <button id="btn_create">Create Room</button><br>
            
            <br><br>
            JID of room to destroy: &nbsp; <input id="txt_jid2" type="text" /> &nbsp;
            <button id="btn_delete">Destroy Room</button><br>
            
            <br><br>
            <button id="btn_disco">Discover Rooms</button><br>
        </div>
        
        <div id="div_done"></div>
    </div>
</body>
</html>